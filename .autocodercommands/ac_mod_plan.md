
# .ac.mod.md 文件编写指南

用户可以根据本文档按用户的需求做模块开发设计，然后撰写.ac.mod.md模块文档。整个过程需要遵循项目标准并使用 `.auto-coder/docs/jobs/todo-list-<moduel_name>.md` 记录工作进度。

## 任务概述

你需要为指定的模块创建完整的 `.ac.mod.md` 文档，该文档应该帮助开发者快速理解和使用模块功能。

## 工作流程要求

### 1. 创建 todo-list-<moduel_name>.md 工作状态追踪文件

在开始设计前，必须创建 `.auto-coder/docs/jobs/todo-list-<moduel_name>.md` 文件来记录你的设计过程,下面是
todo-list-<module_name>.md 的示例格式：

<document_content>
# 模块文档编写任务清单

## 基本信息
- **模块路径**: [待填写]
- **模块名称**: [待填写]
- **开始时间**: [当前时间]
- **预计完成时间**: [预估时间]

## 任务进度

### 阶段 1: 项目探索和分析 ⏳
- [ ] 探索模块目录结构
- [ ] 分析主要文件功能
- [ ] 识别核心类和函数
- [ ] 理解模块依赖关系
- [ ] 查找使用示例和测试文件

### 阶段 2: 文档结构规划 ⏳
- [ ] 确定文档章节结构
- [ ] 规划代码示例内容
- [ ] 设计依赖关系图
- [ ] 收集配置选项信息

### 阶段 3: 内容编写 ⏳
- [ ] 编写模块概述
- [ ] 完成目录结构说明
- [ ] 编写快速开始指南
- [ ] 详细说明核心组件
- [ ] 创建 Mermaid 依赖图
- [ ] 添加使用示例

### 阶段 4: 质量检查 ⏳
- [ ] 验证代码示例可运行性
- [ ] 检查文档结构完整性
- [ ] 确认依赖关系准确性
- [ ] 审查内容清晰度

### 阶段 5: 最终完善 ⏳
- [ ] 修正发现的问题
- [ ] 优化表达和格式
- [ ] 添加最佳实践建议
- [ ] 完成最终审查

## 当前状态
**进行中的任务**: [当前正在执行的具体任务]
**完成百分比**: 0%
**遇到的问题**: [记录遇到的问题和解决方案]
**下一步计划**: [下一步要执行的任务]

## 工作日志
- [时间] 开始任务...
</document_content>

### 2. 在每个工作阶段更新状态

在完成每个任务时，必须更新 `todo-list.md` 文件：
- 将完成的任务标记为 ✅
- 更新当前状态和完成百分比
- 记录遇到的问题和解决方案
- 添加工作日志条目

## .ac.mod.md 文档编写标准

### 必需章节结构

按照以下结构创建 `.ac.mod.md` 文档：

<document_content>
# [模块名称]

[一句话描述模块的核心功能以及在项目中的作用]

## 目录结构

```
[模块路径]/
├── [主要文件1]                 # [详细功能描述]
├── [主要文件2]                 # [详细功能描述]
├── [子目录]/                      # [子目录功能描述]
│   └── [子文件]               # [子文件功能描述]
└── .ac.mod.md                  # 本文档
```

## 快速开始

### 基本使用方式

```python
# 导入必要的模块
from [模块路径] import [主要类名], [辅助类名]

# 1. 初始化配置
[具体的初始化代码示例]

# 2. 创建实例
[实例创建代码示例]

# 3. 基本使用
[基本使用代码示例]
```

### 辅助函数说明

[详细说明模块提供的辅助函数]

### 配置管理

[说明配置选项和管理方式]

## 核心组件详解

### 1. [主要类名] 主类

**核心功能：**
- [功能1]：[详细描述]
- [功能2]：[详细描述]

**主要方法：**
- `[方法1]()`: [方法功能和参数说明]
- `[方法2]()`: [方法功能和参数说明]

### 2. [子系统名称]架构

[详细说明子系统的设计和实现]

## Mermaid 文件依赖图

```mermaid
graph TB
    %% 核心模块定义
    [主模块][主模块<br/>核心功能描述]
    [子模块1][子模块1<br/>功能描述]
    
    %% 依赖关系
    [主模块] --> [子模块1]
    
    %% 样式定义
    classDef coreClass fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    classDef subClass fill:#f3e5f5,stroke:#7b1fa2,stroke-width:1px
    
    class [主模块] coreClass
    class [子模块1] subClass
```

### 依赖关系说明

[详细说明各模块间的依赖关系和交互方式]
</document_content>

### 内容质量要求

1. **准确性**: 所有代码示例必须可以实际运行
2. **完整性**: 覆盖模块的所有重要功能和使用场景
3. **清晰性**: 使用简洁明了的语言，避免技术术语过度堆砌
4. **实用性**: 提供实际可用的代码示例和最佳实践

### 特殊模块类型处理

对于外部系统可能会用到的该模块的一些枚举值，事件，工具进行罗列，方便用户查阅。

## 工作执行步骤

### 步骤 1: 深度探索模块 (更新 `.auto-coder/docs/jobs/todo-list-<moduel_name>.md`)

```python
# 使用以下工具探索模块结构
list_files(path="[模块路径]", recursive=True)
read_file(path="[模块路径]/__init__")
list_code_definition_names(path="[模块路径]")
search_files(path="[模块路径]", regex="class|def|import")
```

**更新要求**: 在 `.auto-coder/docs/jobs/todo-list-<moduel_name>.md` 中记录发现的文件、类、函数等信息

### 步骤 2: 分析核心功能 (更新 `.auto-coder/docs/jobs/todo-list-<moduel_name>.md`)

```python
# 读取主要文件内容
read_file(path="[主要文件路径]")
# 查找使用示例
search_files(path=".", regex="from [模块路径]|import.*[模块名]")
# 查找测试文件
search_files(path=".", regex="test.*[模块名]", file_pattern="*")
```

**更新要求**: 在 todo-list.md 中记录核心类、方法、使用模式等

### 步骤 3: 编写文档内容 (持续更新 todo-list.md)

按照标准结构逐章节编写，每完成一个章节就更新 todo-list.md 的进度。

### 步骤 4: 验证和完善 (更新 todo-list.md)

```python
# 验证代码示例
# 检查依赖关系
# 确认文档完整性
```

**更新要求**: 在 todo-list.md 中记录验证结果和修改内容

## 质量检查清单

在完成文档后，使用以下清单进行最终检查，并在 `.auto-coder/docs/jobs/todo-list-<moduel_name>.md` 中记录检查结果：

### 内容完整性 ✅
- [ ] 模块概述清晰准确
- [ ] 目录结构完整，每个文件都有功能说明
- [ ] 快速开始部分包含完整可运行代码
- [ ] 核心组件说明详细
- [ ] 依赖关系图准确反映实际情况

### 代码质量 ✅
- [ ] 所有代码示例语法正确
- [ ] 导入语句完整且正确
- [ ] 变量名和函数名符合项目规范
- [ ] 代码注释清晰有用

### 文档结构 ✅
- [ ] 标题层级正确 (H1, H2, H3...)
- [ ] 章节逻辑清晰，内容组织合理
- [ ] Markdown 格式统一规范
- [ ] 代码块语法高亮正确

### 用户体验 ✅
- [ ] 新手能通过快速开始部分立即上手
- [ ] 代码示例实用且贴近实际使用场景
- [ ] 错误处理和异常情况说明清楚
- [ ] 提供了最佳实践指导

## 最终交付要求

1. **完整的 `<模块根目录下>/.ac.mod.md` 文档**: 按照标准结构编写的完整模块文档
2. **完整的 `.auto-coder/docs/jobs/todo-list-<moduel_name>.md` 文件**: 记录完整工作过程的状态追踪文件
3. **工作总结**: 在 todo-list.md 末尾添加工作总结，包括：
   - 模块的主要特点和价值
   - 编写过程中的发现和洞察
   - 遇到的挑战和解决方案
   - 对模块改进的建议

## 注意事项

1. **始终保持 `.auto-coder/docs/jobs/todo-list-<moduel_name>.md` 更新**: 这是工作状态的重要记录
2. **代码示例必须可运行**: 不要使用占位符，提供真实可用的代码
3. **保持与项目风格一致**: 参考现有文档的写作风格和格式
4. **注重实用性**: 文档应该真正帮助开发者使用模块
5. **及时记录问题**: 在 `.auto-coder/docs/jobs/todo-list-<moduel_name>.md` 中记录遇到的问题和解决过程
6. 测试策略,注意事项, 未来扩展 这些内容不要放在 .ac.mod.md 文档中。

## 开始工作

下面是用户的模块开发需求：

<user_query>
{{ query }}
</quer_query>

现在请开始为指定的模块编写文档：

1. 首先创建 `.auto-coder/docs/jobs/todo-list-<moduel_name>.md` 文件
2. 开始模块探索和分析
3. 按步骤编写文档内容
4. 持续更新工作状态
5. 完成质量检查
6. 提交最终文档

记住：**每完成一个重要步骤都要更新 `.auto-coder/docs/jobs/todo-list-<moduel_name>.md` 文件！整个流程不允许创建任何代码文件包括测试代码**
