# 005-AutoCoder 使用搜索引擎

在上一篇内容中，我们介绍了 AutoCoder 可以同时看源码，同时阅读文档，最后结合你的需求进行代码的迭代。

实际上，这个文档有两种可能性：

1. 接口或者SDK的文档

2. 一些设计思路

通常接口或者SDK文档，通过 urls 参数指定是OK的，AutoCoder >= 0.1.18 同时还支持指定本地文件，并且支持 PDF,Word 等文档。

但是如果你希望 AutoCoder 使用搜索引擎，寻找一些思路也是可以的。为了开启搜索引擎能力，你需要做两件事：

1. 申请Google或者Bing的搜索API Token
2. 在 AutoCoder 参数中带上两个参数

首先是申请 API Token, 我们推荐 Bing, 可以访问这里：https://www.microsoft.com/en-us/bing/apis/bing-web-search-api 获取 token。

其次是开启搜索功能：

```yml
source_dir: /tmp/t-py
target_file: /home/winubuntu/projects/ByzerRawCopilot/output.txt 

model: deepseek_chat
model_max_length: 2000
model_max_input_length: 30000
anti_quota_limit: 0

search_engine: bing
search_engine_token: ENV {{BING_SEARCH_TOKEN}}

## execute the prompt generated by auto-coder
execute: true
## extract the code from the prompt generated by auto-coder 
## and overwrite the source code
auto_merge: true

project_type: py

human_as_model: true

query: >
  修改 server.py ，在代码 app = FastAPI()后
  增加 ray 的初始化连接代码。
```

这里，我们可以看到 search_engine 和 search_engine_token 参数。当你使用 ENV {{BING_SEARCH_TOKEN}} AutoCoder 会在你环境变量里找到 BING_SEARCH_TOKEN 的值。如果你不是通过环境变量，你直接复制你的token 替换 "ENV {{BING_SEARCH_TOKEN}}" 就行。

注意， AutoCoder 需要你配置Model才会生效。此外，AutoCoder 还会利用大模型对搜索结果进行筛选，最终可能没有合适的，这个时候就搜索内容就不会影响后续的代码生成。

如果你能明确知道你的搜索词，那你可以直接通过一个参数解决：

```yml
search: 如何使用FastAPI
search_engine: bing
search_engine_token: ENV {{BING_SEARCH_TOKEN}}
```

