## 041_AutoCoder_快速生成下一个需求YAML文件.md

在AutoCoder项目中，我们使用以`序号_名称.yml`格式命名的YAML文件来定义具体的需求。这些文件存放在`actions`目录下。当我们想基于之前的需求快速生成一个新的需求文件时，可以使用`auto-coder next`命令。

### 解决的问题

在开发过程中，我们经常会有一些新的需求是基于之前的需求演进而来的。手动创建一个新的YAML文件，然后从之前的文件中复制内容过来，修改，这个过程比较繁琐。`auto-coder next`命令就是为了解决这个问题，提供一个快速生成新需求文件的方式。

### 如何解决

`auto-coder next`命令的实现逻辑如下：

1. 检查当前目录下是否有`actions`目录，如果没有则报错退出。

2. 扫描`actions`目录下所有以`序号_名称.yml`格式命名的文件，找到序号最大的文件。

3. 将上一步找到的序号最大的文件的内容，复制到一个以`新序号_新名称.yml`命名的新文件中。新序号是在最大序号上加1。新名称由命令行参数指定。

4. 如果`actions`目录下还没有任何需求文件，则创建一个空的新文件。

这样，我们就得到了一个基于之前需求的新的需求文件，然后就可以在新文件的基础上进行修改了。

### 如何使用

使用方法非常简单，只需要在AutoCoder项目的根目录下执行以下命令：

```sh
auto-coder next 新需求名称
```

其中，`新需求名称`就是你想给新生成的需求文件起的名字。

比如，我们可以执行：

```sh
auto-coder next 支持图像生成
```

如果`actions`目录下最后一个需求文件是`023_增加摘要功能.yml`，那么上面的命令就会生成一个新的文件`024_支持图像生成.yml`，它的内容和`023_增加摘要功能.yml`一样。

然后你就可以打开`024_支持图像生成.yml`，修改里面的内容，开始新需求的开发了。

这个小功能虽然很简单，但是可以为我们节省不少重复的工作。给AutoCoder点个赞👍！