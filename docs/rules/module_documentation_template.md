
# 模块文档生成指南

本指南定义了 AutoCoder 项目中模块文档的标准结构和内容要求，用于生成类似 `.meta.mod.md` 的模块文档。

## 文档结构模板

### 1. 标题和概述
```markdown
# [模块名称]

[模块的简要描述，说明其在 AutoCoder 项目中的作用和主要功能]

## 目录结构

```
[模块路径]/
├── __init__.py                    # 模块初始化文件
├── [主要文件1].py                 # [文件功能描述]
├── [主要文件2].py                 # [文件功能描述]
├── [子模块目录]/                  # [子模块功能描述]
│   ├── __init__.py               # [子模块初始化]
│   ├── [子文件1].py              # [子文件功能描述]
│   └── [子文件2].py              # [子文件功能描述]
└── .meta.mod.md                  # 本文档
```
```

### 2. 快速开始（对外API使用指南）

#### 2.1 基本使用方式
```markdown
### 基本使用方式

参考 `[示例文件名].py` 中的使用方式：

```python
# 导入必要的模块
from [模块路径] import [主要类名], [请求类名]
from [相关模块] import [依赖类名]

# 1. 初始化配置
[配置步骤和代码示例]

# 2. 创建实例
[实例创建代码示例]

# 3. 基本使用
[基本使用代码示例]
```
```

#### 2.2 辅助函数说明
```markdown
### 辅助函数说明

```python
# [函数名1]
def [函数名1]([参数]):
    """[函数功能描述]"""
    [实现说明]

# [函数名2]
def [函数名2]([参数]):
    """[函数功能描述]"""
    [实现说明]
```
```

#### 2.3 配置管理
```markdown
### [特定功能]管理

```python
# [功能1]
[配置示例1]

# [功能2]
[配置示例2]
```
```

### 3. 核心组件详解

#### 3.1 主要类/组件
```markdown
### 1. [主要类名] 主类

**核心功能：**
- [功能1]：[详细描述]
- [功能2]：[详细描述]
- [功能3]：[详细描述]

**主要方法：**
- `[方法1]()`: [方法功能描述]
- `[方法2]()`: [方法功能描述]
- `[方法3]()`: [方法功能描述]
```

#### 3.2 子系统架构
```markdown
### 2. [子系统名称]架构

**设计模式：**
- [设计模式1]：[描述]
- [设计模式2]：[描述]

#### 2.1 [子系统组件]定义

**[组件类别1]：**

- **`[组件1]`**: [组件描述]
  - **类型**: `[类型名]`
  - **参数**: [参数列表和说明]
  - **功能**: [功能描述]
  - **返回**: [返回值说明]
  - **用途**: [使用场景]
  - **示例**: [使用示例]

#### 2.2 [处理流程]

**[流程名称]：**
```python
# [流程示例代码]
```

**[执行流程]：**
1. **[步骤1]**: [步骤描述]
2. **[步骤2]**: [步骤描述]
3. **[步骤3]**: [步骤描述]
```

### 4. 可视化图表

#### 4.1 Mermaid 依赖图
```markdown
## Mermaid 文件依赖图

```mermaid
graph TB
    %% 核心模块
    [主模块][主模块.py<br/>核心功能]
    [子模块1][子模块1.py<br/>功能描述]
    
    %% 依赖关系
    [主模块] --> [子模块1]
    
    %% 样式定义
    classDef coreClass fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    classDef subClass fill:#f3e5f5,stroke:#7b1fa2,stroke-width:1px
    
    class [主模块] coreClass
    class [子模块1] subClass
```

### 依赖关系说明

1. **[关系类型1]**：
   - [关系描述]

2. **[关系类型2]**：
   - [关系描述]
```

## 内容填写指南

### 1. 模块信息收集

在开始编写文档前，需要收集以下信息：

#### 1.1 基本信息
- **模块名称**：模块的正式名称
- **模块路径**：在项目中的完整路径
- **主要功能**：模块的核心职责和功能
- **依赖关系**：与其他模块的依赖关系

#### 1.2 文件结构
- **主要文件**：列出所有重要的 Python 文件
- **子目录**：列出重要的子目录及其作用
- **配置文件**：相关的配置文件
- **测试文件**：测试相关文件

#### 1.3 API 接口
- **公开类**：对外提供的主要类
- **公开函数**：对外提供的主要函数
- **配置选项**：可配置的参数和选项
- **使用示例**：典型的使用场景和代码示例

### 2. 文档编写规范

#### 2.1 语言规范
- 使用中文编写，专业术语可保留英文
- 代码注释使用英文或中文，保持一致性
- 变量名、函数名、类名保持英文原样

#### 2.2 代码示例规范
- 提供完整可运行的代码示例
- 包含必要的导入语句
- 添加适当的注释说明
- 使用实际的参数值而非占位符

#### 2.3 结构规范
- 按照模板结构组织内容
- 使用统一的标题层级
- 保持章节之间的逻辑关系
- 确保内容的完整性和准确性

### 3. 特殊内容处理

#### 3.1 复杂系统
对于包含多个子系统的复杂模块：
- 为每个子系统单独建立章节
- 详细说明子系统间的交互关系
- 提供整体架构图

#### 3.2 工具类模块
对于提供工具功能的模块：
- 按功能分类列出所有工具
- 为每个工具提供详细的参数说明
- 包含使用示例和最佳实践

#### 3.3 事件驱动模块
对于基于事件的模块：
- 详细列出所有事件类型
- 说明事件的触发条件和数据结构
- 提供事件处理的示例代码

#### 3.4 配置驱动模块
对于高度可配置的模块：
- 详细说明所有配置选项
- 提供配置示例和最佳实践
- 说明配置的优先级和覆盖规则

## 质量检查清单

### 1. 内容完整性
- [ ] 模块概述清晰准确
- [ ] 目录结构完整
- [ ] API 使用示例可运行
- [ ] 核心组件说明详细
- [ ] 依赖关系图准确

### 2. 代码质量
- [ ] 代码示例语法正确
- [ ] 导入语句完整
- [ ] 变量名符合规范
- [ ] 注释清晰有用

### 3. 文档结构
- [ ] 标题层级正确
- [ ] 章节逻辑清晰
- [ ] 格式统一规范
- [ ] 链接和引用正确

### 4. 用户体验
- [ ] 快速开始部分易懂
- [ ] 示例代码实用
- [ ] 错误处理说明清楚
- [ ] 最佳实践指导明确

## 维护指南

### 1. 更新时机
- 模块功能发生重大变更时
- 添加新的公开 API 时
- 修复重要 bug 后
- 架构调整后

### 2. 更新内容
- 同步更新代码示例
- 更新依赖关系图
- 修正过时的说明
- 添加新功能的文档

### 3. 版本管理
- 在文档中标注适用的版本
- 保留重要变更的历史记录
- 与代码版本保持同步

通过遵循这个指南，可以确保 AutoCoder 项目中所有模块都有高质量、结构一致的文档，便于开发者理解和使用。
